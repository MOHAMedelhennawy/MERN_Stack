!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.eventTargetShim=e()}}(function(){return function e(t,n,r){function o(a,l){if(!n[a]){if(!t[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){var n=t[a][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=t.exports.createUniqueKey="undefined"!=typeof Symbol?Symbol:function(e){return"[["+e+"_"+Math.random().toFixed(8).slice(2)+"]]"},o=t.exports.isObject=function(e){return"object"==typeof e&&null!==e};t.exports.LISTENERS=r("listeners"),t.exports.CAPTURE=1,t.exports.BUBBLE=2,t.exports.ATTRIBUTE=3,t.exports.newNode=function(e,t,n){var r=o(n);return{listener:e,kind:t,once:r&&Boolean(n.once),passive:r&&Boolean(n.passive),next:null}}},{}],2:[function(e,t,n){"use strict";function r(e,t){for(var n=e[a][t];null!=n;){if(n.kind===l)return n.listener;n=n.next}return null}function o(e,t,n){"function"!=typeof n&&"object"!=typeof n&&(n=null);for(var r=null,o=e[a][t];null!=o;)o.kind===l?null==r?e[a][t]=o.next:r.next=o.next:r=o,o=o.next;null!=n&&(null==r?e[a][t]=u(n,l):r.next=u(n,l))}var i=e("./commons"),a=i.LISTENERS,l=i.ATTRIBUTE,u=i.newNode;t.exports.defineCustomEventTarget=function(e,t){function n(){e.call(this)}var i={constructor:{value:n,configurable:!0,writable:!0}};return t.forEach(function(e){i["on"+e]={get:function(){return r(this,e)},set:function(t){o(this,e,t)},configurable:!0,enumerable:!0}}),n.prototype=Object.create(e.prototype,i),n}},{"./commons":1}],3:[function(e,t,n){"use strict";var r=e("./commons"),o=e("./custom-event-target"),i=e("./event-wrapper"),a=r.isObject,l=r.LISTENERS,u=r.CAPTURE,f=r.BUBBLE,c=r.ATTRIBUTE,s=r.newNode,p=o.defineCustomEventTarget,v=i.createEventWrapper,b=i.STOP_IMMEDIATE_PROPAGATION_FLAG,d=i.PASSIVE_LISTENER_FLAG,m="undefined"!=typeof window&&"undefined"!=typeof window.EventTarget,y=t.exports=function e(){if(!(this instanceof e)){if(1===arguments.length&&Array.isArray(arguments[0]))return p(e,arguments[0]);if(arguments.length>0){for(var t=Array(arguments.length),n=0;n<arguments.length;++n)t[n]=arguments[n];return p(e,t)}throw new TypeError("Cannot call a class as a function")}Object.defineProperty(this,l,{value:Object.create(null)})};y.prototype=Object.create((m?window.EventTarget:Object).prototype,{constructor:{value:y,writable:!0,configurable:!0},addEventListener:{value:function(e,t,n){if(null==t)return!1;if("function"!=typeof t&&"object"!=typeof t)throw new TypeError('"listener" is not an object.');var r=a(n)?Boolean(n.capture):Boolean(n),o=r?u:f,i=this[l][e];if(null==i)return this[l][e]=s(t,o,n),!0;for(var c=null;null!=i;){if(i.listener===t&&i.kind===o)return!1;c=i,i=i.next}return c.next=s(t,o,n),!0},configurable:!0,writable:!0},removeEventListener:{value:function(e,t,n){if(null==t)return!1;for(var r=a(n)?Boolean(n.capture):Boolean(n),o=r?u:f,i=null,c=this[l][e];null!=c;){if(c.listener===t&&c.kind===o)return null==i?this[l][e]=c.next:i.next=c.next,!0;i=c,c=c.next}return!1},configurable:!0,writable:!0},dispatchEvent:{value:function(e){var t=e.type,n=this[l][t];if(null==n)return!0;for(var r=v(e,this),o=null;null!=n&&(n.once?null==o?this[l][t]=n.next:o.next=n.next:o=n,r[d]=n.passive,"function"==typeof n.listener?n.listener.call(this,r):n.kind!==c&&"function"==typeof n.listener.handleEvent&&n.listener.handleEvent(r),!r[b]);)n=n.next;return!r.defaultPrevented},configurable:!0,writable:!0}})},{"./commons":1,"./custom-event-target":2,"./event-wrapper":4}],4:[function(e,t,n){"use strict";var r=e("./commons").createUniqueKey,o=r("stop_immediate_propagation_flag"),i=r("canceled_flag"),a=r("passive_listener_flag"),l=r("original_event"),u=Object.freeze({stopPropagation:Object.freeze({value:function(){var e=this[l];"function"==typeof e.stopPropagation&&e.stopPropagation()},writable:!0,configurable:!0}),stopImmediatePropagation:Object.freeze({value:function(){this[o]=!0;var e=this[l];"function"==typeof e.stopImmediatePropagation&&e.stopImmediatePropagation()},writable:!0,configurable:!0}),preventDefault:Object.freeze({value:function(){if(!this[a]){this.cancelable===!0&&(this[i]=!0);var e=this[l];"function"==typeof e.preventDefault&&e.preventDefault()}},writable:!0,configurable:!0}),defaultPrevented:Object.freeze({get:function(){return this[i]},enumerable:!0,configurable:!0})});t.exports.STOP_IMMEDIATE_PROPAGATION_FLAG=o,t.exports.PASSIVE_LISTENER_FLAG=a,t.exports.createEventWrapper=function(e,t){var n="number"==typeof e.timeStamp?e.timeStamp:Date.now(),r={type:{value:e.type,enumerable:!0},target:{value:t,enumerable:!0},currentTarget:{value:t,enumerable:!0},eventPhase:{value:2,enumerable:!0},bubbles:{value:Boolean(e.bubbles),enumerable:!0},cancelable:{value:Boolean(e.cancelable),enumerable:!0},timeStamp:{value:n,enumerable:!0},isTrusted:{value:!1,enumerable:!0}};return r[o]={value:!1,writable:!0},r[i]={value:!1,writable:!0},r[a]={value:!1,writable:!0},r[l]={value:e},"undefined"!=typeof e.detail&&(r.detail={value:e.detail,enumerable:!0}),Object.create(Object.create(e,u),r)}},{"./commons":1}]},{},[3])(3)});
